<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Social Network Analysis by Inquisitive-Geek</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Social Network Analysis</h1>
      <h2 class="project-tagline">Social Network Analysis using Gephi &amp; R</h2>
      <a href="https://github.com/Inquisitive-Geek/Social-Network-Analysis" class="btn">View on GitHub</a>
      <a href="https://github.com/Inquisitive-Geek/Social-Network-Analysis/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/Inquisitive-Geek/Social-Network-Analysis/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="background" class="anchor" href="#background" aria-hidden="true"><span class="octicon octicon-link"></span></a>Background</h3>

<p>This project was done as part of the Data Mining course at University Of Cincinnati. I and three other folks - Aarti Ranganathan, Swaraj Mohapatra and Ambrose Wong worked together to come up with this interesting project. </p>

<h3>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h3>

<p>In today's developed world everything is connected: people, information, events and places, and online social media has made it even easier. A practical way of making sense of the fuzzy connections is to analyze them as networks. With the help of Gephi, large amount of social network data is analyzed in an interactive way. The project demonstrates the hands-on analysis of real-world data sets and focuses on a range of tasks: from identifying important nodes in the network, to detecting communities, to tracing information diffusion and opinion formation. The idea is to be able to extract information from a seemingly fuzzy network and recognize communities and cliques. We further used the same techniques and applied them on other networks such as word adjacencies, books about US politics, political blogs and Facebook data. 
Using these datasets, we portrayed gender distribution in a Facebook network, commonly used adjectives in a book, conflicting trends in customer demands, and political dysfunction through blogs. These exploratory analysis was combined with unsupervised learning to detect communities in a Facebook dataset. These detection algorithms used clustering type algorithms where each node was selected into a certain group. However, this was a major drawback because people could belong to multiple communities. Hence linked community analysis was also performed where people could belong to multiple clusters.  </p>

<p>Finally, with the help of ERGM, various models are built for Facebook data and the GWESP based model with degree 1 term is chosen based on MCMC diagnostics – which reveals the error distribution. Although the model has the second best AIC and BIC values, it is still chosen as its noise distribution is normal.</p>

<h3>
<a id="datasets" class="anchor" href="#datasets" aria-hidden="true"><span class="octicon octicon-link"></span></a>Datasets</h3>

<p>We analyzed four datasets in Gephi. The datasets differ from each other on various levels and the idea is to be able to extract information from seemingly fuzzy and different networks. The datasets include User Facebook data, word adjacencies, US political blogs and political books. In addition to Gephi, we also used R to analyze Facebook data. Note that the Facebook data was extracted using an API.</p>

<h3>
<a id="facebook-network-analysis" class="anchor" href="#facebook-network-analysis" aria-hidden="true"><span class="octicon octicon-link"></span></a>Facebook Network Analysis</h3>

<p>Facebook data from one of the users of the group was used for analysis.The attributes extracted from the facebook data include: 
Nodes - The name of the people on the facebook user’s network
Id - Id is a variable that uniquely identifies the nodes on the network
Label - Label is an attribute that defines how a node is labelled on the network
Sex - Sex of the Facebook user’s friend
Agerank - The user’s friends’s age rank. May be 13-17, 18-20 or 21+
Locale - A two-letter language code and a two-letter country code representing the users’ friends’ locale
Degree - The total number of edges connected to a node in the network</p>

<p>The network in the figure below shows that the user has quite a few communities and cliques in his Facebook network. Note that the nodes represent friends of the user and they are colored based on gender. With red nodes representing males and green nodes representing females. People who have not updated their sex on Facebook are represented as blue nodes. The links between the nodes indicate connections between the friends of the user and are called edges. In the above graph, the edges are undirected and each have the same weight. This implies that if you are my friend than I’m also your friend. 
<img src="https://github.com/Inquisitive-Geek/Social-Network-Analysis/blob/master/Fig_7_1.png?raw=true" alt="Fig 7.1"></p>

<p>The figure below shows a node which acts as a significant connection between the two groups of Facebook friends. This person plays a vital role and influences the common posts that the different user groups can find in their notifications. Studying this node further can help analyze the user behavior. 
<img src="https://github.com/Inquisitive-Geek/Social-Network-Analysis/blob/master/Fig_7_2.png?raw=true" alt="FB Network with important node highlighted"></p>

<p>Based on the Facebook network, we can understand the distribution of the user’s friends. The people who play important roles in the network based on the number of mutual friends, friends who play the role of intermittent connections between different communities. This information affects the news feed of the user, information that will be accessible by the user and mutual friends’ suggestions.</p>

<h3>
<a id="word-adjacencies" class="anchor" href="#word-adjacencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Word Adjacencies</h3>

<p>We explored the common adjectives and nouns in the novel "David Copperfield" by Charles Dickens and created an adjacency network. The attributes in the dataset include node and edge descriptions.
The node descriptions are as follows:</p>

<ul>
<li>Nodes - The noun or adjective commonly used in the book</li>
<li>Id - Id is a variable that uniquely identifies the nodes on the network</li>
<li>Label - Label is the attribute which defines how the node is labelled on the network</li>
<li>Value - Indicates if the work is a noun or an adjective. 0: Adjective, 1: Noun
The edge descriptions are as follows:</li>
<li>Source - Indicates the node that acts as the source for the edge</li>
<li>Target - Indicates the node that acts as the target for the edge</li>
<li>Type - Specifies the type of the edge: Directed</li>
<li>Id - Id is a variable that uniquely identifies the edge on the network<br>
</li>
<li>Weight - The weight of an edge. In this dataset, each edge has an equal weight
Since the dataset is directed, every node has an in-degree and an out-degree where in-degree is the number of words that have the current word as its predecessor and out-degree is the number of words that have the current word as its successor. The edge has a source and target indicating which node is the predecessor and which node is the successor for that connection. </li>
</ul>

<p>The figure below indicates the distribution of the commonly used nouns and adjectives in the book. The nodes in red are adjectives and the nodes in blue are nouns. 
<img src="https://github.com/Inquisitive-Geek/Social-Network-Analysis/blob/master/Fig_8_1_1.png?raw=true" alt="8.1.1">
The following image gives more perspective as the size of the nodes depend on the in-degree and the out-degree. The nodes that is connected to many other nodes is indicated with a size bigger than the node that is less widely used. We can study these nodes further.
<img src="https://github.com/Inquisitive-Geek/Social-Network-Analysis/blob/master/Fig_8_1_2.png?raw=true" alt="Fig 8.1.2">
The figure below shows that the adjectives “little” and “old” are the two commonly used adjectives that were highlighted in the previous figure. Gephi seems to be a pretty powerful tool to visualize data. 
<img src="https://github.com/Inquisitive-Geek/Social-Network-Analysis/blob/master/Fig_8_2.png?raw=true" alt="Word adjacencies"></p>

<h3>
<a id="books-about-us-politics" class="anchor" href="#books-about-us-politics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Books about US Politics</h3>

<p>This dataset consists of a network of books about US politics published around the time of the 2004 presidential election and sold by the online bookseller Amazon.com. Edges between books represent frequent co-purchasing of books by the same buyers. The dataset include nodes and edges. The node attributes are as follows:</p>

<ul>
<li>Node - The name of the book</li>
<li>Id - Id is a variable that uniquely identifies the nodes on the network</li>
<li>Label - Label is the attribute which defines how the node is labelled on the network</li>
<li>Value - Indicates the category of the book: liberal(l), neutral(n) or conservative(c) 
The edge attributes are as follows:</li>
<li>Source - Indicates the node that acts as the source for the edge</li>
<li>Target - Indicates the node that acts as the target for the edge</li>
<li>Type - Specifies the type of the edge: UnDirected</li>
<li>Id - Id is a variable that uniquely identifies the edge on the network<br>
</li>
<li>Weight - The weight of every edge. In this dataset, every edge has an equal weight of 1
The below figure shows the division of the political books sold by Amazon in a particular period into three categories. The nodes in blue are books on conservatives, the nodes in green are books on liberals and the nodes in red are neutral. The network indicates the tendency of a buyer to buy the same kind of the book is high but there are a few inter-linking books that indicate a different trend.
<img src="https://github.com/Inquisitive-Geek/Social-Network-Analysis/blob/master/Fig_9_1.png?raw=true" alt="Fig 9.1">
The following figure shows the books that a user purchased along with “Surprise, Security and the Americal Experience”. We see that buyers have an equal tendency to purchase a conservative or a liberal book along with this book. 
<img src="https://github.com/Inquisitive-Geek/Social-Network-Analysis/blob/master/Fig_9_2.png?raw=true" alt="Fig 9.2">
</li>
</ul>

<h3>
<a id="political-blogs" class="anchor" href="#political-blogs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Political Blogs</h3>

<p>A directed network of hyperlinks between weblogs on US politics, recorded in 2005 by Adamic and Glance. The node attributes of the data are as follows:
Nodes - The URL of the blog
Id - Id is a variable that uniquely identifies the nodes on the network
Label - Label is the attribute which defines how the node is labelled on the network
Value - 0: left or liberal political parties, 1: right or conservative parties 
Source - Specifies the source of the blog. Example: Blogarama
The edge attributes are given below:
Source - Indicates the node that acts as the source for the edge
Target - Indicates the node that acts as the target for the edge
Type - Specifies the type of the edge: Directed
Id - Id is a variable that uniquely identifies the edge on the network<br>
Weight - The weight of every edge. In this dataset, every edge has an equal weight of 1</p>

<p>The Political blogs considered in the dataset are written around the 2004 presidential election.  These blogs distinguished based on political leaning. The two kinds of blogs include left or liberal and right or conservative. Analysis of Gephi network indicated the type and source of the blogs. The web crawls from one political blog to another are also considered and these are depicted by the edges in the graph.  In the below figure, the left or liberal blogs are indicated in red and the and right or conservative are shown in blue. We can see that a person is more likely to read a similar kind of a blog rather than switching between liberal and conservative. The graph also shows certain blogs which link these two groups. Such blogs will be considered for further analysis.
<img src="https://github.com/Inquisitive-Geek/Social-Network-Analysis/blob/master/Fig_10_1.png?raw=true" alt="Fig-10.1">
In the following figure, the size of the nodes are shown with respect to its degree. The highlighted nodes indicate that users have traversed to this blog from other political blogs more often compared to other blogs. 
<img src="https://github.com/Inquisitive-Geek/Social-Network-Analysis/blob/master/Fig_10_2.png?raw=true" alt="Fig 10.2"></p>

<h3>
<a id="unsupervised-learning" class="anchor" href="#unsupervised-learning" aria-hidden="true"><span class="octicon octicon-link"></span></a>Unsupervised Learning</h3>

<p>Unsupervised learning plays a major role in the detection of communities in social networks. A common used measure is the modularity of a network which based its calculation on the total number of edges in the group and the expected number of edges in the group. However, this method is computationally very expensive because it considers all edges. Hence, there are algorithms developed that will optimally find the solution using a smaller number of sets. In Gephi, the Louvain method is used and in R, many other algorithms are used.
An inherent difficulty with this type of analysis is that nodes in social networks can belong to multiple communities, but this type of clustering only allows each node to belong to one community. Using another package in R: Linkcomm, we can place different nodes into multiple communities. This analysis is shown in the following two figures. 
<img src="https://github.com/Inquisitive-Geek/Social-Network-Analysis/blob/master/Fig_11_2_1.png?raw=true" alt="Link Communities">
<img src="https://github.com/Inquisitive-Geek/Social-Network-Analysis/blob/master/Fig_11_2_2.png?raw=true" alt="Fig-11.2.2"></p>

<h3>
<a id="random-graph-models" class="anchor" href="#random-graph-models" aria-hidden="true"><span class="octicon octicon-link"></span></a>Random Graph Models</h3>

<p>The statnet package in R has been used to do build ERGM models from the Facebook dataset. The models have been created under several parameter constraints leading to different models. </p>

<pre><code>install.packages("statnet")
install.packages("igraph")
install.packages("intergraph")
library(statnet)
library(igraph)
library(intergraph)

#Reading the graph
fbAarti &lt;- read.graph(file = "Aart_FB.gml", format = "gml")

#Converting the file to a network file
fb &lt;- asNetwork(fbAarti)
plot(fb)
summary(fb)

#Mixing Matrices based on attribute names
mixingmatrix(fb, "locale")
mixingmatrix(fb, "agerank")
mixingmatrix(fb, "label")
mixingmatrix(fb, "sex")

#Network components
table(component.dist(fb)$csize)
network.size(fb)

#Erdos-Renyi model
fb.model.er &lt;- ergm(fb~edges)
summary(fb.model.er)
fb.model.er$mle.lik

#Assortative mixing edge model
fb.model.assor.2 &lt;- ergm(fb~edges + nodematch("locale") + nodematch("sex"))
summary(fb.model.assor.2)
fb.model.assor.2$mle.lik

#Simulate the network
sim.assor &lt;- simulate(fb.model.assor.2, burnin = 1e+6, verbose = TRUE, seed = 9)
mixingmatrix(sim.assor, "locale")
mixingmatrix(sim.assor, "sex")

#Network components
table(component.dist(fb)$csize)
network.size(fb)

#Degree distribution
summary(fb ~ degree(0:120))
summary(sim.assor ~ degree(0:120))


c(fb = summary(fb ~ triangle), sim.assor = summary(sim.assor ~ triangle))

fb.model.ed.tr &lt;- ergm(fb ~ edges + triangle, maxit = 4, control.ergm =  control.ergm(seed = 9), verbose = TRUE)

summary(fb.model.ed.tr)
fb.model.ed.tr$mle.lik

# GWESP model with assortative fields
fb.gwesp &lt;- ergm(fb ~ edges + nodematch("sex") + nodematch("locale") + gwesp(0.25, fixed = TRUE), 
               MCMCsamplesize = 10000, maxit = 4, verbose = TRUE, 
               control = control.ergm(steplength = 0.25), seed = 9, parallel = 4)

fb.model.ed.tr.1 &lt;- ergm(fb ~ edges + triangle + nodematch("sex") + nodematch("locale") + degree(1),
                       maxit = 4, MCMCsamplesize = 20000, control.ergm =  control.ergm(seed = 9, MCMC.interval=500), 
                       calc.mcmc.se = FALSE, parallel = 4, verbose = TRUE)




gof.deg.fb.model.ed.tr &lt;- gof(fb.model.ed.tr~degree)
</code></pre>

<p><img src="https://github.com/Inquisitive-Geek/Social-Network-Analysis/blob/master/Table%20Model%20Comparison.PNG?raw=true" alt="Table"></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Inquisitive-Geek/Social-Network-Analysis">Social Network Analysis</a> is maintained by <a href="https://github.com/Inquisitive-Geek">Inquisitive-Geek</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-67244594-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
